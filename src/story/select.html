<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Select your blog to identify any useless http refs (test)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://static.twoday.net/cdn/files/foundation55-min-css.css">
  <link rel="stylesheet" href="https://static.twoday.net/cdn/files/awesomeeditorcore-min-css.css">
  <link rel="stylesheet" href="https://static.twoday.net/cdn/files/rainy-min-css.css">
  <style>
    body { padding: 20px 0; }
    .container { width:750px; margin: 0 auto; padding: 15px; }
  </style>
</head>
<body>
  <div class="container storyContent">
    <p class="knockout clipboard"><img class="googledrive" alt="https-umstellung.jpg"></p>
    <div class="panel" style="font-size:.9em"><i class="fa fa-medkit fa-3x pull-left muted"></i>Ihre Blogcounter- und Statistiklösungen funktionieren nicht mehr richtig? Ihre Sidebar-Widgets erscheinen nicht? Eingebettete Videos werden mal angezeigt - und dann wieder nicht? Hier finden Sie die Lösung dieser Probleme, die übrigens auch zu der viel kritisierten Google-Penalty beitragen. Ein Grund mehr für alle Twoday-BloggerInnen, zumindest mal diesen Stein des Anstoßes aktiv beiseite zu räumen.</div>
    <p class="dropcaps">Vor ziemlich genau <a target="_blank" href="https://help.twoday.net/stories/1022603145/#1022603276">einem Jahr</a> hat Twoday auf einen zweigleisigen Protokollbetrieb umgestellt: seither können alle Blog- und Plattformseiten entweder im <span class="code">http</span>- oder im <span class="code">https</span>-Modus aufgerufen werden.</p>
    <p>Leider gibt es keine strikte Festlegung, welcher Modus verlässlich genutzt wird und so ist man, je nachdem, mit welchem Aufruf man zu <em>twoday.net</em> gelangt ist, mal im unsicheren <span class="label red">http</span>, mal im sicheren (weil verschlüsselten) <span class="label blue">https</span> Mode:</p>
    <table>
      <thead>
        <tr>
          <th>URL-Aufruf im Browser</th>
          <th>Aktivierter Modus</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a target="_blank" href="//twoday.net">twoday.net</a></td>
          <td><span class="label red">http</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="http://twoday.net"><b>http://</b>twoday.net</a></td>
          <td><span class="label red">http</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="//www.twoday.net"><b>www.</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="http://www.twoday.net"><b>http://www.</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="https://twoday.net"><b>https://</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="https://www.twoday.net"><b>https://www.</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
      </tbody>
    </table>
    <p>Da man so nicht sicherstellen kann, in welchem Modus Besucher auf das eigene Blog gelangen (und die Wahr&shy;schein&shy;lich&shy;keit für <span class="label blue">https</span> zudem deutlich größer ist), hat das gravierende Auswirkungen auf die Blog&shy;funktio&shy;na&shy;li&shy;tät. Ist ein Besucher nämlich <b>im sicheren https-Modus, verweigert der Browser die Ausführung und Anzeige aller Ressourcen, die im Blog per "unsicherer" http-URL aufgerufen werden</b>, z.B.</p>
    <ul>
      <li><span class="code">script</span>-Aufrufe (z.B. Counter, Statistiken, IP-Anzeigen)</li>
      <li><span class="code">embed</span>-Befehle (z.B. Youtube-Videos)</li>
      <li><span class="code">iframe</span>-Einbettungen (z.B. Wetter-Widgets, Facebook, FeedJit Live Traffic)</li>
    </ul>
    <p>Dies bedeutet, dass Ihre Counter-/Statistik-Skripte nicht ausgeführt werden, Embed-Videos schwarz bleiben und iframe-Einbettungen nicht erscheinen! Die Lösung dieses Problems ist im Grunde einfach:</p>
    <cite><b>Nur URLs, die mit https beginnen, werden <u>immer</u> (d.h. in allen Modi) ausgeführt!</b></cite>
    <p>Ein Besucherzähler, der nur Besucher zählt, die über <em>http</em> auf den Blog kommen, ist sinnlos, ebenso wie ein embed-YouTube-Video, das bei einem Besucher angezeigt wird und beim nächsten nicht.</p>
    <p class="panel"><span class="label yellow" style="margin-right:10px">Tipp</span>Stellen Sie alle <span class="code">script</span>-, <span class="code">embed</span>- und <span class="code">iframe</span>-Aufrufe in Ihrem Blog auf <span class="code">https://</span> um.</p>
    <p>Im Prinzip ist diese Umstellung sehr einfach: Sie müssen die unwirksamen http-Referenzen identifizieren und im Blog (= Ihren Twoday Skins oder Beiträgen) finden, dann prüfen, ob der Anbieter auch https bereitstellt, um anschließend das <span class="label red">http</span>-Kürzel auf <span class="label blue">https</span> zu ändern. Im folgenden beschreibe ich, wie das am effektivsten geht.</p>
    <h5 class="top20">1. Unwirksame http-Referenzen identifizieren</h5>
    <p>Zur Unterstützung habe ich ein kleines Tool entwickelt, das für die zuletzt geänderten 750 Twoday-Blogs (das sind die ersten fünfzig Seiten der Twoday-Blogroll) alle unwirksamen http-Aufrufe findet und auflistet.</p>
    <cite>Das Tool durchsucht dabei nicht Ihren gesamten Blog, sondern nur die aktuelle Homepage und die dort angezeigten Beiträge. Die letzte Analyse fand statt am <span title="data-bind=text:lastUpdate"></span>.</cite>
    <p>Bitte wählen Sie in der nachstehenden Auswahlbox Ihren Blog aus, um unwirksame http-Aufrufe anzuzeigen, die in Ihrer Homepage verwendet werden:</p>
    <fieldset>
      <legend>http-Referenzen von <span title="data-bind=text:blogCount"></span> Twoday-Blogs (Stand: <span title="data-bind=text:lastUpdate"></span>)</legend>
      <div class="row">
        <div class="small-2 columns"><a href="#" title="data-bind=attr:{href:'https:'+optBlog()+'.twoday.net/'}"><img class="userIcon th" title="data-bind=event:{error:defaultIcon}, attr:{src:blogIcon}" src="https://static.twoday.net/icon.gif" width="58" alt="Icon"></a></div>
        <div class="small-10 columns">
          <div class="row collapse">
            <div class="small-2 columns"><span class="prefix" style="font-size:.75rem">https://</span></div>
            <div class="small-8 columns">
              <select title="data-bind=options:blogs, value:optBlog"></select>
            </div>
            <div class="small-2 columns"><span class="postfix" style="font-size:.75rem">.twoday.net</span></div>
          </div> 
        </div>
      </div>
      <div class="row" style="margin-top:1.25rem;padding-top:1.25rem;border-top:1px solid #ddd">
        <div class="small-2 columns">
          <img class="googledrive noadds" alt="https.jpg">
        </div>
        <div class="small-10 columns">
          <div class="alert-box" title="data-bind=css:alertStatus, html:message">
            <i class="fa fa-spinner fa-pulse" style="font-size:1.45em"></i><span style="margin-left:1em;font-weight:bold">Lade Bloginformationen...</span>
          </div>
          <div title="data-bind=html:httpRefs"></div>
        </div>
      </div>
    </fieldset>
    <p>Falls Sie eine grüne Nachricht erhalten: Prima! Ihre Homepage und die dort angezeigten Beiträge enthalten keine unwirksamen http-Aufrufe. Sie brauchen <u>nichts</u> zu unternehmen.</p>
    <p>Eine rote Nachricht zeigt an, dass in Ihrem Blog unwirksame http-Aufrufe gefunden wurden. Diese werden unter der Nachrichtenbox vollständig mit dem jeweiligem HTML-Befehl und der verwendeten (hier evtl. verkürzt angezeigten) URL gelistet.</p>
    <h5 class="top20">2. Stellt der Anbieter den Dienst auch per HTTPS bereit?</h5>
    <p>Zunächst macht es Sinn, zu prüfen, ob die verwendete http-URL überhaupt noch existiert. Mancher Anbieter ist aus dem Markt gegangen oder von anderen Unternehmen übernommen worden (Bsp. <em>sitemeter.com</em>, <em>formspring.me</em>). Falls die URL-Adresse gültig ist und Sie dieses Angebot/diese Funktion weiter in Ihrem Blog nutzen möchten, ist zu prüfen, ob dieser Service auch im sicheren HTTPS Modus verfügbar ist.</p><p>Für die wichtigsten und am häufigsten verwendeten Dienste finden Sie nachstehend diese Information &mdash; für andere müssen Sie diese ggf. selbst ermitteln. Ist die URL jedoch nicht mehr sinnvoll nutzbar, entfernen Sie die Referenz (z.B. den Script-Aufruf) aus dem Skin und speichern ihn neu ab.</p>
    <p class="aligncenter bottom0"><a href="#" class="button bottom0 secondary small radius" title="data-bind=click:toggleHostList">Infos zu den am häufigsten benutzten Diensten anzeigen&emsp;<i class="fa" title="data-bind=css:{'fa-chevron-right':!visibleHostList(),'fa-chevron-down':visibleHostList()}"></i></a></p><style>#hostTable .fa-check{color:#368a55;}#hostTable .fa-times{color:#f04124;}.blinker{color:rgba(0,0,0,0.5);-webkit-animation:blink 2s infinite;animation:blink 2s infinite;}#closeHostList{cursor:pointer;float:right}#closeHostList .fa-times{color:#ccc}#closeHostList:hover .fa-times{color:#aaa}#lasttipps li{margin-bottom:.8em}</style>
    <table id="hostTable" title="data-bind=visible:visibleHostList">
      <thead>
        <tr>
          <th>URL / Domäne</th>
          <th>Häufigkeit</th>
          <th>Existiert noch?</th>
          <th>Bietet HTTPS?</th>
          <th>Empfehlung<span id="closeHostList" title="data-bind=click:visibleHostList(false)|data-!title=Tabelle ausblenden">&emsp;<i class="fa fa-times fa-lg"></i></span></th>
        </tr>
      </thead>
      <tbody title="data-bind=foreach:sortedHostList">
        <tr>
          <td title="data-bind=text:host"></td>
          <td class="aligncenter" title="data-bind=text:count"></td>
          <td class="aligncenter"><i class="fa fa-lg" title="data-bind=css:(alive?'fa-check':'fa-times')"></i></td>
          <td class="aligncenter"><i class="fa fa-lg" title="data-bind=css:(https?'fa-check':'fa-times')"></i></td>
          <td title="data-bind=text:text"></td>
        </tr>
      </tbody>
    </table>
    <h5 class="top20">3. http-Referenzen im Blog finden</h5>
    <p>Twoday-Blogs setzen sich aus sog. Skins zusammen, welche das Layout und die Darstellung des Blogs bestimmen. Der wichtigste Skin, in dem wohl die meisten http-Referenzen zu finden sein werden, ist der Skin der Hauptseite <b>Site.page</b>.</p>
    <p>Zu den Skins gelangen Sie über Klick auf <span class="label blue">Admin</span><sup>1)</sup> &rarr; <span class="label blue">Layout</span> &rarr; <span class="label blue">Skins (HTML)</span>. Die von Ihnen in der Vergangenheit bearbeiteten (d.h. irgendwann einmal veränderten) Skins finden Sie aufgelistet, wenn Sie auf <span class="label blue">Bearbeitete Skins</span> klicken. Alle dort angezeigten Skins könnten http-Referenzen enthalten, oft z.B. in <b>Story.display</b> oder <b>Site.weblogStatus</b>.</p>
    <cite><sup>1)</sup> <span style="font-size:.85em;line-height:inherit">Falls Sie Ihre Menüleiste ausgeblendet haben, kommen Sie mit <span class="code">{ihrblogname}.twoday.net/manage</span> in den Admin-Bereich</cite>
    <p>Weitere potenzielle Fundorte von gesuchten http-Referenzen sind die <b>Sidebar-Module</b>. Klicken Sie auf der Admin-Seite oben auf den Tab <span class="label blue">Module</span><sup>2)</sup> und prüfen Sie z.B. den Inhalt der <em>Freetext-Module (1-5)</em> oder das <em>Web-Counter Modul</em>, ob dort eine der unwirksamen http-URLs verwendet wird.</p>
    <cite><sup>2)</sup> <span style="font-size:.85em;line-height:inherit">Zu den Sidebar-Modulen gelangen Sie auch über die URL <span class="code">{ihrblogname}.twoday.net/modules/sidebar</span></cite>
    <p>Außer in den Skins und Modulen können unwirksame http-Referenzen auch in den Beiträgen selbst vorkommen, wobei dies dann meist <span class="code">embed</span>-Befehle sind (<span class="code">script</span> / <span class="code">iframe</span> sind in Beiträgen ja generell verboten). Wenn Sie embed-Befehle finden, stellen Sie sicher, dass diese <b>nur noch https-Quellen</b> (z.B. Videos) aufrufen.</p>
    <p>Arbeiten Sie Ihre Liste der unwirksamen http-Referenzen ab, bis Sie alle Aufrufe gefunden und diese
      <ul>
        <li>entweder auf <span class="label blue">https</span> geändert haben,</li>
        <li>mit einem neuen Anbieter (z.B. ein neuer Counter) ersetzt haben,</li>
        <li>oder aus dem Code entfernt haben.</li>
      </ul>
    </p>
    <h5 class="top20">4. Twodays Web-Counter Problem</h5>
    <p>Im <span class="label">Web Counter Modul</span> bietet Twoday im Standard drei vordefinierte Counter-Einbindungen an: <em>blogcounter.de</em>, <em>sitemeter.com</em> und <em>blogstats.de</em>:</p>
    <p><img class="googledrive noadds th" alt="webcountermodul.jpg"></p>
    <p><b>Jede dieser drei Optionen ist mittlerweile unbrauchbar</b>: <em>blogcounter.de</em> bietet keinen sicheren https-Modus an (und zählt daher nur http-Besuche), <em>sitemeter.com</em> und <em>blogstats.de</em> existieren nicht mehr. Sollten Sie eine dieser Optionen gewählt haben, deaktivieren Sie sie!</p>
    <p>Nutzen Sie stattdessen die verbleibende Option "Anderer Counter" und kopieren Sie in das Textfeld den Code zur Einbindung des von Ihnen gewählten Counters mit https-Fähigkeit. Kostenlose Counter mit https-Eignung gibt es z.B. bei <a target="_blank" href="https://www.statcounter.com">statcounter.com</a> oder <a target="_blank" href="https://www.trendcounter.com">trendcounter.com</a> <span style="font-size:.85em;line-height:inherit">(weitere Empfehlungen gerne hier als Kommentar posten)</span>.</p>
    <p>Der jeweilige Counter-Anbieter gibt vor, welcher Einbettungscode von Ihnen in das Textfeld "Anderer Counter" zu kopieren ist.</p>
    <h5 class="top20">5. Twodays Google Analytics Problem</h5>
    <p>Im nicht direkt zugreifbaren Skin <span class="code">root.statsCounter</span>, der in jede Twoday-Blogseite eingebaut wird, liegt ein weiteres Problem verborgen: Twodays eigener Google-Analytics-Aufruf funktioniert nicht unter https, da die Skripteinbettung mit einer fixen http-Adresse gespeichert ist. Dadurch wird kein einziger Twoday-Besuch via https gezählt. Außerdem ist das derzeit gerufene Skript (<em>urchin.js</em>) schon ewig veraltet und sollte längst durch eine neue Version ersetzt worden sein (<em>analytics.js</em>). Dieses Problem können wir bei unserer Be&shy;reini&shy;gungs&shy;aktion gleich mit beheben: wir ersetzen den veralteten Code im Skin <span class="code">root.statsCounter</span> durch einen korrekten, aktuell gültigen Code.</p>
    <fieldset>
      <legend>Twoday Analytics Problem beheben für Blog:</legend>
      <div class="row">
        <div class="small-2 columns"><a href="#" title="data-bind=attr:{href:'https:'+optBlog()+'.twoday.net/'}"><img class="userIcon th" title="data-bind=event:{error:defaultIcon}, attr:{src:blogIcon}" src="https://static.twoday.net/icon.gif" width="58" alt="Icon"></a></div>
        <div class="small-10 columns">
          <div class="row collapse">
            <div class="small-2 columns"><span class="prefix" style="font-size:.75rem">https://</span></div>
            <div class="small-8 columns">
              <select title="data-bind=options:blogs, value:optBlog"></select>
            </div>
            <div class="small-2 columns"><span class="postfix" style="font-size:.75rem">.twoday.net</span></div>
          </div>
          <div class="row" title="data-bind=visible:layoutName().length===0">
            <p style="padding:0 15px;font-size:0.9em">Ich kann den Layout-Namen dieses Blogs nicht selbsttätig ermitteln, da Sie bei der Neu&shy;anlage keinen eigenen Namen vergeben haben. Bitte <a href="#" title="data-bind=click:toggleLayoutGif">ermitteln Sie den Layout-Namen daher selbst</a> und geben Sie ihn in das unten angezeigte Feld ein!</p>
            <p title="data-bind=visible:visibleLayoutGif"><img class="googledrive" alt="meinlayoutname.gif"></p>
            <div class="small-offset-2 small-8 columns end"><label>Ihr Layout-Name<input type="text" title="data-bind=value:layoutName"></label></div>
          </div> 
        </div>
      </div>
      <div class="row" style="margin-top:1.25rem;padding-top:1.25rem;border-top:1px solid #ddd">
        <div class="small-2 columns" style="padding-top:13px">
          Schritt <span class="redNumber">1</span>
        </div>
        <div class="small-10 columns">
          <a id="copy2clipboard" href="#" class="button success small radius" title="data-bind=click:dummyLink">Kopiere den korrigierten Skininhalt in die <b>Zwischenablage</b>...<i class="fa fa-check fa-lg" style="margin-left:15px;color:#ffbf00" title="data-bind=visible:wasCopied"></i></a>
        </div>
      </div>
      <div class="row aligncenter" style="margin-bottom:20px" title="data-bind=visible:wasCopied"><i class="fa fa-chevron-down fa-2x blinker"></i></div>
      <div class="row">
          <div class="small-2 columns" style="padding-top:13px">
            Schritt <span class="redNumber">2</span>
          </div>
          <div class="small-10 columns">
            <a id="gotoSkin" target="_blank" href="javascript:void(0)" class="button small radius" title="data-bind=css:{'disabled':!wasCopied()}, attr:{href:layoutUrl}, click:dummyLink">Skin-Editor für <b>root.statsCounter</b> des Blogs <b title="data-bind=text:optBlog()"></b> aufrufen...</a>
            <cite style="margin-left:0;width:100%">
            <p>Damit der Link zum Skin-Editor funktioniert, müssen Sie bei Twoday angemeldet sein und für den ausgewählten Blog Administratorrechte besitzen. Im Skin-Editor angekommen, führen Sie bitte folgende Aktion aus:</p>
            <ol>
              <li>In das große (letzte) Textfeld klicken.</li>
              <li>Taste <span class="code"><span title="data-bind=text:StrgCmd()"></span>-A</span> drücken, um den gesamten Inhalt zu markieren.</li>
              <li>Taste <span class="code"><span title="data-bind=text:StrgCmd()"></span>-V</span> drücken, um den markierten Inhalt mit dem neuen zu ersetzen.</li>
              <li>Ganz unten auf <span class="code">Speichern und Schließen</span> klicken.</li>
            </ol>
          </cite>
          </div>
        </div>
        <div class="row"><div class="panel" style="margin:0 20px">Führen Sie diese zwei Schritte nacheinander <b>für jedes Ihrer Blogs</b> durch (respektive die Blogs, auf die Sie <u>Administrator&shy;zugriff</u> besitzen).</div></div>
      </fieldset>
      <h5 class="top20">6. Letzte <s>Worte</s> Tipps</h5>
      <ol id="lasttipps">
        <li>Verwenden Sie keine Ressourcen mehr, die <u>nur</u> über <span class="label red">http</span> erreichbar sind. Einzige Ausnahme sind Bilder, die (derzeit noch) im sicheren Modus angezeigt werden, auch wenn sie nur eine http-Url haben. Aber: Wenn der Bildspeicherplatz (wie z.B. Flickr, Cloudinary) ein https-Protokoll anbietet, nutzen Sie dieses und binden Bilder über https ein!</li>
        <li>Verwenden Sie keine Flash-Ressourcen mehr (SWF-Dateien). Flash ist tot, böse und steht mit dem Teufel im Bunde. Es hat Gründe, warum Chrome, Firefox u.a. die Ausführung von Flash im Browser mittlerweile im Standard gesperrt haben. Wirklich! Kein Flash mehr!</li>
        <li>Wenn Sie Videos noch über <span class="code">embed</span> einbinden wollen, verwenden Sie nur noch https-Adressen. Nutzen Sie für Videos und andere Dienste von derzeit 20 Plattformen alternativ das bewährte <a target="_blank" href="https://neonwilderness.twoday.net/stories/videoload2">Videoload-Tool</a>, welches immer die korrekten https-Adressen generiert.</li>
      </ol>
    <a href="https://rawgit.com/NeonWilderness/tdhttp/master/src/story/select.js" class="storyScript" rel="#"></a>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>
  <script src="https://static.twoday.net/cdn/files/yepnope154-min-js.js"></script>
  <script src="https://static.twoday.net/sys.files/js/jquery/jquery.min.js"></script>
  <script src="https://static.twoday.net/cdn/files/gdimages-min-js.js"></script>
  <script>
    $('.googledrive').gdimages().init({
      gdDomain: 'http://www.s522667522.online.de',
      gdRootFolder: '/public',
      gdSubFolder: 'images',
      addClass: 'neonimg th',
      titleContent: 'keep'
    });
  </script>    
  <script src="https://static.twoday.net/cdn/files/fastclick-min-js.js"></script>
  <script src="https://static.twoday.net/cdn/files/foundation55-min-js.js"></script>
  <script>
    $('[title^=data-]').foundation2day().init({ validateDataAttribs: true, initFoundation5: {} });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.min.js"></script>
  <script src="https://static.twoday.net/cdn/files/storyscript-min-js.js"></script>
  <script>
    toastr.options = {closeButton: true, positionClass: 'toast-top-right', timeOut: '9000'};
    $('.storyScript').storyScript().init();
  </script>
</body>
</html>