<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Select your blog to identify any useless http refs (test)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://static.twoday.net/cdn/files/foundation55-min-css.css">
  <link rel="stylesheet" href="https://static.twoday.net/cdn/files/awesomeeditorcore-min-css.css">
  <link rel="stylesheet" href="https://static.twoday.net/cdn/files/rainy-min-css.css">
  <style>
    body { padding: 20px 0; }
    .container { width:750px; margin: 0 auto; padding: 15px; }
  </style>
</head>
<body>
  <div class="container storyContent">
    <p><img class="neonimg th" src="http://www.s522667522.online.de/public/images/https-umstellung.jpg" /></p>
    <p class="dropcaps">Vor ziemlich genau <a target="_blank" href="https://help.twoday.net/stories/1022603145/#1022603276">einem Jahr</a> hat Twoday auf einen zweigleisigen Protokollbetrieb umgestellt: seither können alle Blog- und Plattformseiten entweder im <span class="code">http</span>- oder im <span class="code">https</span>-Modus aufgerufen werden.</p>
    <p>Leider gibt es keine strikte Festlegung, welcher Modus verlässlich genutzt wird und so ist man, je nachdem, mit welchem Aufruf man zu <em>twoday.net</em> gelangt ist, mal im unsicheren <span class="label red">http</span>, mal im sicheren <span class="label blue">https</span> Mode:</p>
    <table>
      <thead>
        <tr>
          <th>URL-Aufruf im Browser</th>
          <th>Aktivierter Modus</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a target="_blank" href="twoday.net">twoday.net</a></td>
          <td><span class="label red">http</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="http://twoday.net"><b>http://</b>twoday.net</a></td>
          <td><span class="label red">http</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="www.twoday.net"><b>www.</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="http://www.twoday.net"><b>http://www.</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="https://twoday.net"><b>https://</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
        <tr>
          <td><a target="_blank" href="https://www.twoday.net"><b>https://www.</b>twoday.net</a></td>
          <td><span class="label blue">https</span></td>
        </tr>
      </tbody>
    </table>
    <p>Da man so nicht sicherstellen kann, in welchem Modus Besucher auf das eigene Blog gelangen (und die Wahr&shy;schein&shy;lich&shy;keit für <span class="label blue">https</span> zudem deutlich größer ist), hat das gravierende Auswirkungen auf die Blog&shy;funktio&shy;na&shy;li&shy;tät. Ist ein Besucher nämlich <b>im https-Modus, verweigert der Browser die Ausführung und Anzeige aller Ressourcen, die im Blog per "unsicherer" http-URL aufgerufen werden</b>, z.B.</p>
    <ul>
      <li><span class="code">script</span>-Aufrufe (z.B. Counter, Statistiken, IP-Anzeigen)</li>
      <li><span class="code">embed</span>-Befehle (z.B. Youtube-Videos)</li>
      <li><span class="code">iframe</span>-Einbettungen (z.B. Wetter-Widgets, Facebook, FeedJit Live Traffic)</li>
    </ul>
    <p>Dies bedeutet, dass Ihre Counter-/Statistik-Skripte nicht ausgeführt werden, Embed-Videos schwarz bleiben und iframe-Einbettungen nicht erscheinen! Die Lösung dieses Problems ist im Grunde einfach:</p>
    <cite><b>Nur URLs, die mit https beginnen, werden <u>immer</u> ausgeführt!</b></cite>
    <p>Ein Besucherzähler, der nur Besucher zählt, die über <em>http</em> auf den Blog kommen, ist sinnlos, ebenso wie ein embed-YouTube-Video, das bei einem Besucher angezeigt wird und beim nächsten nicht.</p>
    <p class="panel"><span class="label yellow" style="margin-right:10px">Tipp</span>Stellen Sie alle <span class="code">script</span>-, <span class="code">embed</span>- und <span class="code">iframe</span>-Aufrufe in Ihrem Blog auf <span class="code">https://</span> um.</p>
    <p>Im Prinzip ist diese Umstellung sehr einfach: Sie müssen die unwirksamen http-Referenzen identifizieren und im Blog (= Ihren Twoday Skins) finden, dann prüfen, ob der Anbieter auch https bereitstellt, um anschließend das <span class="label red">http</span>-Kürzel auf <span class="label blue">https</span> zu ändern. Im folgenden beschreibe ich, wie das am effektivsten geht.</p>
    <h5 class="top20">1. Unwirksame http-Referenzen identifizieren</h5>
    <p>Zur Unterstützung habe ich ein kleines Tool entwickelt, das für die zuletzt geänderten 750 Twoday-Blogs (das sind die ersten fünfzig Seiten der Twoday-Blogroll) alle unwirksamen http-Aufrufe findet und auflistet.</p>
    <p>Bitte wählen Sie in der nachstehenden Auswahlbox Ihren Blog aus, um unwirksame http-Aufrufe anzuzeigen, die in Ihrer Homepage verwendet werden:</p>
    <fieldset>
      <legend>http-Referenzen von <span title="data-bind=text:blogCount"></span> Twoday-Blogs (Stand: <span title="data-bind=text:lastUpdate"></span>)</legend>
      <div class="row">
        <div class="small-2 columns">
          <a href="#" title="data-bind=attr:{href:'https:'+optBlog()+'.twoday.net/'}">
            <img class="userIcon th" title="data-bind=event:{error:defaultIcon}, attr:{src:blogIcon}" src="https://static.twoday.net/icon.gif" width="58" alt="Icon">
          </a>
        </div>
        <div class="small-10 columns">
          <div class="row collapse">
            <div class="small-2 columns"><span class="prefix" style="font-size:.75rem">https://</span></div>
            <div class="small-8 columns">
              <select title="data-bind=options:blogs, value:optBlog"></select>
            </div>
            <div class="small-2 columns"><span class="postfix" style="font-size:.75rem">.twoday.net</span></div>
          </div> 
        </div>
      </div>
      <div class="row" style="margin-top:1.25rem;padding-top:1.25rem;border-top:1px solid #ddd">
        <div class="small-2 columns">
          <img src="http://www.s522667522.online.de/public/images/https.jpg" alt="https">
        </div>
        <div class="small-10 columns">
          <div class="alert-box" title="data-bind=css:alertStatus, html:message">
            <i class="fa fa-spinner fa-pulse" style="font-size:1.45em"></i><span style="margin-left:1em;font-weight:bold">Lade Bloginformationen...</span>
          </div>
          <div title="data-bind=html:httpRefs"></div>
        </div>
      </div>
    </fieldset>
    <p>Falls Sie eine grüne Nachricht erhalten: Prima! Ihre Homepage und die dort angezeigten Beiträge enthalten keine unwirksamen http-Aufrufe. Sie brauchen <u>nichts</u> zu unternehmen.</p>
    <p>Eine rote Nachricht zeigt an, dass in Ihrem Blog unwirksame http-Aufrufe gefunden wurden. Diese werden unter der Nachrichtenbox vollständig mit dem jeweiligem HTML-Befehl und der verwendeten (hier evtl. verkürzt angezeigten) URL gelistet.</p>
    <h5 class="top20">2. Stellt der Anbieter den Dienst auch per HTTPS bereit?</h5>
    <p>Zunächst macht es Sinn, zu prüfen, ob die verwendete http-URL überhaupt noch existiert. Mancher Anbieter ist aus dem Markt gegangen oder von anderen Unternehmen übernommen worden (Bsp. <em>sitemeter.com</em>, <em>formspring.me</em>). Falls die URL-Adresse gültig ist und Sie dieses Angebot/diese Funktion weiter in Ihrem Blog nutzen möchten, ist zu prüfen, ob dieser Service auch im sicheren HTTPS Modus verfügbar ist.</p><p>Für die wichtigsten und am häufigsten verwendeten Dienste finden Sie nachstehend diese Information &mdash; für andere müssen Sie diese ggf. selbst ermitteln. Ist die URL jedoch nicht mehr sinnvoll nutzbar, entfernen Sie die Referenz (z.B. den Script-Aufruf) aus dem Skin und speichern ihn neu ab.</p>
    <p class="aligncenter"><a href="#" class="button secondary small radius" title="data-bind=click:toggleHostList">Infos zu den am häufigsten benutzten URLs anzeigen&emsp;<i class="fa" title="data-bind=css:{'fa-chevron-right':!visibleHostList(),'fa-chevron-down':visibleHostList()}"></i></a></p>
    <style>#hostTable .fa-check{color:#368a55;}#hostTable .fa-times{color:#f04124;}</style>
    <table id="hostTable" title="data-bind=visible:visibleHostList">
      <thead>
        <tr>
          <th>URL / Domäne</th>
          <th>Häufigkeit</th>
          <th>Existiert noch?</th>
          <th>Bietet HTTPS?</th>
          <th>Empfehlung</th>
        </tr>
      </thead>
      <tbody title="data-bind=foreach:sortedHostList">
        <tr>
          <td title="data-bind=text:host"></td>
          <td class="aligncenter" title="data-bind=text:count"></td>
          <td class="aligncenter"><i class="fa fa-lg" title="data-bind=css:(alive?'fa-check':'fa-times')"></i></td>
          <td class="aligncenter"><i class="fa fa-lg" title="data-bind=css:(https?'fa-check':'fa-times')"></i></td>
          <td title="data-bind=text:text"></td>
        </tr>
      </tbody>
    </table>
    <h5 class="top20">3. http-Referenzen im Blog finden</h5>
    <p>Twoday-Blogs setzen sich aus sog. Skins zusammen, welche das Layout und die Darstellung des Blogs bestimmen. Der wichtigste Skin, in dem wohl die meisten http-Referenzen zu finden sein werden, ist der Skin der Hauptseite <b>Site.page</b>.</p>
    <p>Zu den Skins gelangen Sie über Klick auf <span class="label blue">Admin</span><sup>1)</sup> &rarr; <span class="label blue">Layout</span> &rarr; <span class="label blue">Skins (HTML)</span>. Die von Ihnen in der Vergangenheit bearbeiteten (d.h. irgendwann einmal veränderten) Skins finden Sie aufgelistet, wenn Sie auf <span class="label blue">Bearbeitete Skins</span> klicken. Alle dort angezeigten Skins könnten http-Referenzen enthalten, oft z.B. in <b>Story.display</b> oder <b>Site.weblogStatus</b>.</p>
    <cite><sup>1)</sup> <span style="font-size:.85em;line-height:inherit">Falls Sie Ihre Menüleiste ausgeblendet haben, kommen Sie mit <span class="code">{ihrblogname}.twoday.net/manage</span> in den Admin-Bereich</cite>
    <p>Weitere potenzielle Fundorte von gesuchten http-Referenzen sind die <b>Sidebar-Module</b>. Klicken Sie auf der Admin-Seite oben auf den Tab <span class="label blue">Module</span><sup>2)</sup> und prüfen Sie z.B. den Inhalt der <em>Freetext-Module (1-5)</em> oder das <em>Web-Counter Modul</em>, ob dort eine der unwirksamen http-URLs verwendet wird.</p>
    <cite><sup>2)</sup> <span style="font-size:.85em;line-height:inherit">Zu den Sidebar-Modulen gelangen Sie auch über die URL <span class="code">{ihrblogname}.twoday.net/modules/sidebar</span></cite>
    <h5 class="top20">4. Twodays Web-Counter Problem</h5>
    <p>Im <span class="label">Web Counter Modul</span> bietet Twoday im Standard drei verschiedene Counter-Einbindungen an: <em>blogcounter.de</em>, <em>sitemeter.com</em> und <em>blogstats.de</em>:</p>
    <p><img class="neonimg th" src="http://www.s522667522.online.de/public/images/webcountermodul.jpg" /></p>
    <p><b>Jede dieser drei Optionen ist mittlerweile unbrauchbar</b>: <em>blogcounter.de</em> bietet keinen sicheren https-Modus an (und zählt daher nur http-Besuche), <em>sitemeter.com</em> und <em>blogstats.de</em> existieren nicht mehr. Sollten Sie eine dieser Optionen gewählt haben, deaktivieren Sie sie am besten!</p>
    <p>Nutzen Sie stattdessen die verbleibende Option "Anderer Counter" und kopieren Sie in das Textfeld den Code zur Einbindung des von Ihnen gewählten Counters mit https-Fähigkeit. Kostenlose Counter mit https-Eignung gibt es z.B. bei <a target="_blank" href="https://www.statcounter.com">statcounter.com</a> oder <a target="_blank" href="https://www.trendcounter.com">trendcounter.com</a> <span style="font-size:.85em;line-height:inherit">(weitere Empfehlungen gerne hier als Kommentar posten)</span>.</p>
    <h5 class="top20">5. Twodays Google Analytics Problem</h5>
    <p>Im nicht direkt zugreifbaren Skin <span class="code">root.statsCounter</span>, der in jede Twoday-Blogseite eingebaut wird, liegt ein weiteres Problem verborgen: Twodays eigener Google-Analytics-Aufruf funktioniert nicht unter https, da die Skripteinbettung mit einer fixen http-Adresse gespeichert ist. Dadurch wird kein einziger Twoday-Besuch via https gezählt. Außerdem ist das derzeit gerufene Skript (<em>urchin.js</em>) schon ewig veraltet und sollte längst durch eine neue Version ersetzt worden sein (<em>analytics.js</em>). Dieses Problem können wir bei unserer Be&shy;reini&shy;gungs&shy;aktion gleich mit beheben.</p>
    <fieldset>
      <legend>Twoday Analytics Problem beheben für Blog:</legend>
      <div class="row">
        <div class="small-2 columns">
          <a href="#" title="data-bind=attr:{href:'https:'+optBlog()+'.twoday.net/'}">
            <img class="userIcon th" title="data-bind=event:{error:defaultIcon}, attr:{src:blogIcon}" src="https://static.twoday.net/icon.gif" width="58" alt="Icon">
          </a>
        </div>
        <div class="small-10 columns">
          <div class="row collapse">
            <div class="small-2 columns"><span class="prefix" style="font-size:.75rem">https://</span></div>
            <div class="small-8 columns">
              <select title="data-bind=options:blogs, value:optBlog"></select>
            </div>
            <div class="small-2 columns"><span class="postfix" style="font-size:.75rem">.twoday.net</span></div>
          </div> 
        </div>
      </div>
      <div class="row" style="margin-top:1.25rem;padding-top:1.25rem;border-top:1px solid #ddd">
        <div class="small-2 columns" style="padding-top:13px">
          Schritt <span class="redNumber">1</span>
        </div>
        <div class="small-10 columns">
          <a id="copy2clipboard" href="#" class="button success small radius" title="data-bind=click:copySkin">Kopiere den korrigierten Skininhalt in die <b>Zwischenablage</b>...<i class="fa fa-check fa-lg" style="margin-left:15px;color:#ffbf00" title="data-bind=visible:wasCopied"></i></a>
        </div>
      </div>
      <div class="row">
          <div class="small-2 columns" style="padding-top:13px">
            Schritt <span class="redNumber">2</span>
          </div>
          <div class="small-10 columns">
            <a id="gotoSkin" target="_blank" href="#" class="button small radius" title="data-bind=attr:{href:layoutUrl}">Skin-Editor für <b>root.statsCounter</b> des Blogs <b title="data-bind=text:optBlog()"></b> aufrufen...</a>
            <cite style="margin-left:0;width:100%">
            <p>Damit der Link zum Skin-Editor funktioniert, müssen Sie bei Twoday angemeldet sein und für den ausgewählten Blog Administratorrechte besitzen. Im Skin-Editor angekommen, führen Sie bitte folgende Aktion aus:</p>
            <ol>
              <li>In das große (letzte) Textfeld klicken.</li>
              <li>Taste <span class="code"><span title="data-bind=text:StrgCmd()"></span>-A</span> drücken, um den gesamten Inhalt zu markieren.</li>
              <li>Taste <span class="code"><span title="data-bind=text:StrgCmd()"></span>-V</span> drücken, um den markierten Inhalt mit dem neuen zu ersetzen.</li>
              <li>Ganz unten auf <span class="code">Speichern und Schließen</span> klicken.</li>
            </ol>
          </cite>
          </div>
        </div>
        <div class="row">Führen Sie die zwei Schritte für jeden Ihrer Blogs durch (respektive die Blogs, auf die Sie Administrator&shy;zugriff besitzen).</div>
      </fieldset>
    <!-- a href="https://rawgit.com/NeonWilderness/tdhttp/master/src/story/select.js" class="storyScript" rel="#"></a-->
    <a href="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" class="storyScript" rel="#"></a>
    <a href="./select.js" class="storyScript" rel="#"></a>
  </div>
  <script src="https://static.twoday.net/cdn/files/yepnope154-min-js.js"></script>
  <script src="https://static.twoday.net/sys.files/js/jquery/jquery.min.js"></script>
  <script src="https://static.twoday.net/cdn/files/fastclick-min-js.js"></script>
  <script src="https://static.twoday.net/cdn/files/foundation55-min-js.js"></script>
  <script>
    $('[title^=data-]').foundation2day().init({ validateDataAttribs: true, initFoundation5: {} });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.min.js"></script>
  <script src="https://static.twoday.net/cdn/files/storyscript-min-js.js"></script>
  <script>
    toastr.options = {closeButton: true, positionClass: 'toast-top-right', timeOut: '9000'};
    $('.storyScript').storyScript().init();
  </script>
</body>
</html>